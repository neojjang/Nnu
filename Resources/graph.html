<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Flot Examples</title>
    <link href="layout.css" rel="stylesheet" type="text/css">
    <!--[if lte IE 8]><script language="javascript" type="text/javascript" src="../excanvas.min.js"></script><![endif]-->
    <script language="javascript" type="text/javascript" src="lib/flot/jquery.js"></script>
    <script language="javascript" type="text/javascript" src="lib/flot/jquery.flot.js"></script>
    <script language="javascript" type="text/javascript" src="lib/flot/jquery.flot.stack.js"></script>
 </head>
    <body>

    <div id="graph" style="width:1000px;height:240px;"></div>
    
    <p class="stackControls">
    <input type="button" value="With stacking">
    <input type="button" value="Without stacking">
    </p>
    
    <p class="graphControls">
	<input type="button" value="Bars">
	<input type="button" value="Lines">
	<input type="button" value="Lines with steps">
    </p>

	<script type="text/javascript">
	var meats;
	var vegetables;
	var carbs;
	var days;
	var stack = 0, lines = true, bars = false, steps = false;
	var setting = {
	        series: {
	        	stack: stack,
	            lines: {show:lines, fill:true, steps:steps},
	            bars: {show:bars, barWidth:10}
	            // points: {show:true}
	        },
	        xaxis: {
	            mode:"time",
	            timeformat:"%m/%d",
	            tickSize: [30,"day"]
	        },
	        yaxis: {
	            ticks: 10,
	            min: 0,
	        },
	        grid: {
	            backgroundColor: { colors: ["#fff","#eee"] },
	        }
	};
	
	function plotWithOptions(){
		$.plot(
			$("#graph"),
			[
				{label: "meat", data: meats, color: 1},
				{label: "vegetable", data: vegetables, color: 2},
				{label: "carb", data: carbs, color: 3}
			], 
			setting
		);
	}
	
	$(".stackControls input").click(function (e) {
        e.preventDefault();
        stack = $(this).val() == "With stacking" ? true : null;
        setting.series.stack = stack;
        plotWithOptions();
    });
    $(".graphControls input").click(function (e) {
        e.preventDefault();
        bars = $(this).val().indexOf("Bars") != -1;
        lines = $(this).val().indexOf("Lines") != -1;
        steps = $(this).val().indexOf("steps") != -1;
        setting.series.lines.show = lines;
        setting.series.lines.steps = steps;
        setting.series.bars.show = bars;
        plotWithOptions();
    });
</script>

 </body>
</html>

	</script>

 </body>
</html>